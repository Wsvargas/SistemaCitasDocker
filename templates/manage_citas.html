<!DOCTYPE html>
<html>
<head>
    <title>Gestionar Citas Médicas</title>
</head>
<body>
    <h1>Gestionar Citas Médicas</h1>
    <form method="post" action="{{ url_for('citas.manage_citas') }}">
        <label for="id_usuario_paciente">ID Paciente:</label>
        <input type="text" id="id_usuario_paciente" name="id_usuario_paciente" required>
        <br>
        <label for="id_usuario_doctor">ID Doctor:</label>
        <input type="text" id="id_usuario_doctor" name="id_usuario_doctor" required>
        <br>
        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" name="fecha" required>
        <br>
        <label for="hora">Hora:</label>
        <input type="time" id="hora" name="hora" required>
        <br>
        <label for="motivo">Motivo:</label>
        <input type="text" id="motivo" name="motivo">
        <br>
        <label for="estado">Estado:</label>
        <select id="estado" name="estado">
            <option value="pendiente">Pendiente</option>
            <option value="confirmada">Confirmada</option>
            <option value="cancelada">Cancelada</option>
        </select>
        <br>
        <button type="submit">Agregar Cita</button>
    </form>
    <h2>Citas Existentes</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>Paciente</th>
            <th>Doctor</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Motivo</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
        {% for cita in citas %}
        <tr>
            <td>{{ cita.id_cita }}</td>
            <td>{{ cita.id_usuario_paciente }}</td>
            <td>{{ cita.id_usuario_doctor }}</td>
            <td>{{ cita.fecha }}</td>
            <td>{{ cita.hora }}</td>
            <td>{{ cita.motivo }}</td>
            <td>{{ cita.estado }}</td>
            <td>
                <form method="post" action="{{ url_for('citas.delete_cita', id_cita=cita.id_cita) }}" style="display:inline;">
                    <button type="submit">Eliminar</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
